---
layout: post
title: 오늘의 와드 앱 기획
date: Fri September 25 2020 18:39:20 GMT+0900
author: Jang Taeyoung
categories: etc
---

> 애플리케이션 기획 과정 문서로 남기기 - Update (2020/10/14)

## 주제

메인 화면에서 오늘의 와드와 자신의 예약 현황 그리고 달력을 통한 예약 기능을 주 목적으로 하는 애플리케이션

<br />

### 생각하게 된 이유

크로스핏을 반년 가까이 다니게 되면서 홈페이지를 통해서 오늘의 와드를 확인하지 않고 앱을 통해 확인하고 싶다는 생각이 들었다. 인터넷을 통해서 확인하는 방법이 썩 편하지가 않고 제일 많이 확인하게 되는건 오늘의 와드인데 그걸 앱 메인 화면에서 볼 수 있으면 좋겠다는 생각을 최근에 꾸준히 해왔다. 그리고 예약 과정도 앱의 기능으로 포함하여 딱 2가지 기능이 주 목적인 앱을 만들면 어떨까 생각하게 됐다.

<br />

## 기존에 존재하는 애플리케이션

1. 바디코디
   - 친구네 박스에서 사용하고 있는 출석, 수업 관리 앱이며, 관리자와 회원이 사용하는 앱이 나뉘어져 있다. 회원이 사용하는 앱에선 수업 예약, 취소 그리고 회원권 기간(?) 정도가 표시되고 관리자가 사용하는 앱에선 출결 관리가 주 목적인 것 같다.
   - 회원 전용 앱은 최근 UI 업데이트가 된 이후로 혹평을 받고 있다. 내가 봐도 투박하고 옛날로 돌아간듯한 느낌을 주는 UI였다. 그에 반해 관리자 전용 앱은 그대로 잘 유지하고 있는 듯 하다.
2. 운동가
   - 수업 예약이 주 목적인 앱이며, 관리자와 회원이 하나의 앱을 사용한다. 관리자에게 추가로 몇 가지 권한이 더 있는 메뉴가 존재하지만 있는 권한에 비해 기능이 빈약하고 불편하다는 것 같다.
3. 피플박스
   - 이 앱이 제일 세련된 UI에 좋은 편의성을 갖고 있는 것 같은데, 확인할 방법이 없다. 해당 앱을 사용하고 있는 지점의 회원들이 인증번호를 통해 가입하는 구조라서 자세한 정보를 알 수가 없다. 😭

<br />

### 공통점과 차이점

- 공통점

1. 해당 앱에 등록된 지점의 회원들만 사용할 수 있는 구조, 센터 등록 신청을 보내면 해당 센터에서 등록 시켜주거나 인증번호를 보내주는 식이다.
2. 모두 수업 예약 관리가 주 목적이다.

- 차이점

1. UI, 세련된 곳부터 들어가기 싫어지는 UI까지 다양하다.
2. 관리자 페이지, 회원과 관리자 앱이 나뉘어져있는 것부터 한 앱에서 관리자만 사용할 수 있는 메뉴를 만들어놓은 것까지

<br />

### Stack

- Front

1. React Native
2. Typescript

- Back

1. Django
2. Django REST Framework

## 진행 상황

1. ~~Model~~
2. ~~Serializer~~
3. ViewSet (~~User~~, ~~Box~~, ~~Wod~~, ~~Schedule~~, Alert, ~~Reservation~~, Membership)
4. API
   - Token
   - Box authentication
   - Jwt middleware
   - Coach
   - Reservation
   - Wod
   - Schedule
5. Fake data (django-seed)

### Alert

- #Issue: Push Notification <br />: 내 노트북 환경은 Window, 핸드폰은 IOS라서 Window Xcode를 사용해도 Push 알림 동작을 테스트하기가 쉽지가 않다. 따라서, Push 알림 대신 앱 내에서 TabNavigation의 옵션을 활용하는 방법으로 변경
- 관리자가 보는 알림이랑 사용자가 보는 알림이랑 구별할 필요가 있다. User에게 연결된 알림을 만들려고 했으나 이럴 경우 관리자가 공지 하나를 만들 경우 박스에 소속된 유저의 수만큼 알림을 보게 된다.

1. 공지랑 이벤트는 박스 소속으로, 메세지는 사용자 소속으로 filter로 모두 가져온 다음 created로 ordering
2. 새로운 알림이 있는지 확인하는 API를 만든다? (params ?)
3. 이렇게 되면 사용자 입장에서 박스 공지는 삭제가 안되는 문제가 발생 => 삭제가 필요없다면 ? user 소속인 알림들은 회원권이 만료되는 순간 모두 삭제 (MembershipViewSet에 조회시 만료되는 부분이 있는데 이때, 메세지들도 모두 삭제)